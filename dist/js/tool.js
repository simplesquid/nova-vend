!function(t){var e={};function n(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(6)},function(t,e,n){Nova.booting(function(t,e,s){e.addRoutes([{name:"vend-api",path:"/vend-api",component:n(2)}])})},function(t,e,n){var s=n(3)(n(4),n(5),!1,null,null,null);t.exports=s.exports},function(t,e){t.exports=function(t,e,n,s,a,i){var o,r=t=t||{},_=typeof t.default;"object"!==_&&"function"!==_||(o=t,r=t.default);var l,u="function"==typeof r?r.options:r;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId=a),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=l):s&&(l=s),l){var c=u.functional,d=c?u.render:u.beforeCreate;c?(u._injectStyles=l,u.render=function(t,e){return l.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,l):[l]}return{esModule:o,exports:r,options:u}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{initialLoading:!0,loading:!1,status:{}}},computed:{hasNoToken:function(){return!this.loading&&!this.initialLoading&&null===this.status.token},hasToken:function(){return!this.loading&&!this.initialLoading&&null!==this.status.token},expires:function(){return this.loading||this.initialLoading||null===this.status.token?null:moment(this.status.token.expires).calendar()}},methods:{getStatus:function(){var t=this;this.loading=!0,this.initialLoading=!1,Nova.request().get("/nova-vendor/vend-api/status").then(function(e){t.status=e.data,t.loading=!1})}},created:function(){this.getStatus()}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("loading-view",{attrs:{loading:t.initialLoading}},[n("heading",{staticClass:"mb-6"},[t._v(t._s(t.__("Vend API Login")))]),t._v(" "),n("loading-card",{staticClass:"card",attrs:{loading:t.loading}},[t.hasNoToken?n("card",{staticClass:"flex flex-col items-center justify-center p-8",staticStyle:{"min-height":"300px"}},[n("h1",{staticClass:"text-black text-4xl text-90 font-light mb-6"},[t._v("\n                "+t._s(t.__("You need to log in to the Vend API"))+"\n            ")]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n                "+t._s(t.__("Make sure you have set the redirect URI for your Vend application to"))+": "),n("br"),t._v(" "),n("code",[t._v(t._s(t.status.oauth_redirect))])]),t._v(" "),n("p",[n("a",{staticClass:"btn btn-default btn-primary",attrs:{href:t.status.oauth_request}},[t._v(t._s(t.__("Login")))])])]):t.hasToken?n("card",{staticClass:"flex flex-col items-center justify-center p-8",staticStyle:{"min-height":"300px"}},[n("h1",{staticClass:"text-black text-4xl text-90 font-light mb-6"},[t._v("\n                "+t._s(t.__("You are already logged in to the Vend API"))+"\n            ")]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n                "+t._s(t.__("Your OAuth token details are"))+":\n            ")]),t._v(" "),n("table",{staticClass:"table mb-8"},[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v(t._s(t.__("Key")))]),t._v(" "),n("th",{staticClass:"text-left"},[t._v(t._s(t.__("Value")))])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("span",{staticClass:"font-bold"},[t._v(t._s(t.__("Domain Prefix")))])]),t._v(" "),n("td",[t._v(t._s(t.status.token.domain_prefix))])]),t._v(" "),n("tr",[n("td",[n("span",{staticClass:"font-bold"},[t._v(t._s(t.__("Current Token")))])]),t._v(" "),n("td",[t._v(t._s(t.status.token.access_token))])]),t._v(" "),n("tr",[n("td",[n("span",{staticClass:"font-bold"},[t._v(t._s(t.__("Expires")))])]),t._v(" "),n("td",[t._v(t._s(t.expires))])]),t._v(" "),n("tr",[n("td",[n("span",{staticClass:"font-bold"},[t._v(t._s(t.__("Refresh Token")))])]),t._v(" "),n("td",[t._v(t._s(t.status.token.refresh_token))])])])]),t._v(" "),n("p",{staticClass:"mb-6"},[t._v("\n                "+t._s(t.__("You may revoke the token if you wish to login again"))+":\n            ")]),t._v(" "),n("p",[n("a",{staticClass:"btn btn-default btn-primary",attrs:{href:t.status.oauth_reset}},[t._v(t._s(t.__("Revoke")))])])]):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){}]);